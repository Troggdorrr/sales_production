{"version":3,"file":"js/261.1c59af88.js","mappings":"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","sources":["webpack://sales/./src/components/UI/Loader.vue","webpack://sales/./src/components/UI/Loader.vue?fb91","webpack://sales/./src/views/ProductView.vue","webpack://sales/./src/components/cards/DetailProductCard.vue","webpack://sales/./src/components/cards/DetailProductCard.vue?c24a","webpack://sales/./src/components/sections/SimiliarProducts.vue","webpack://sales/./src/components/sections/SimiliarProducts.vue?12c5","webpack://sales/./src/views/ProductView.vue?f743"],"sourcesContent":["<template>\n    <div class=\"lds-ring\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n    </div>\n</template>\n\n<style>\n.lds-ring {\n    display: block;\n    position: relative;\n    width: 80px;\n    height: 80px;\n}\n\n.lds-ring div {\n    box-sizing: border-box;\n    display: block;\n    position: absolute;\n    width: 64px;\n    height: 64px;\n    margin: 8px;\n    border: 8px solid var(--primary-color);\n    border-radius: 50%;\n    animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n    border-color: var(--primary-color) transparent transparent transparent;\n}\n\n.lds-ring div:nth-child(1) {\n    animation-delay: -0.45s;\n}\n\n.lds-ring div:nth-child(2) {\n    animation-delay: -0.3s;\n}\n\n.lds-ring div:nth-child(3) {\n    animation-delay: -0.15s;\n}\n\n@keyframes lds-ring {\n    0% {\n        transform: rotate(0deg);\n    }\n\n    100% {\n        transform: rotate(360deg);\n    }\n}\n</style>","import { render } from \"./Loader.vue?vue&type=template&id=4147a103\"\nconst script = {}\n\nimport \"./Loader.vue?vue&type=style&index=0&id=4147a103&lang=css\"\n\nimport exportComponent from \"/home/trogdor/projects/frontend/sales/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <DetailProductCard\n        class=\"product-detail container\"\n        v-if=\"product\"\n        :product=\"product\"\n        :shops=\"shops\"\n        :isLastPage=\"isLastPage\"\n        @seeMore=\"pushShops\"\n    />\n    <SimiliarProducts class=\"container\" v-if=\"product\" :product_id=\"product.id\"/>\n</template>\n\n<style>\n    .product-detail {\n        margin-top: 75px;\n        margin-bottom: 75px;\n    }\n</style>\n\n<script>\nimport DetailProductCard from '@/components/cards/DetailProductCard.vue'\nimport ProductService from '@/services/ProductService'\nimport SimiliarProducts from '@/components/sections/SimiliarProducts.vue'\n\n\nexport default {\n    data() {\n        return {\n            product: undefined,\n            isLastPage: false,\n            shops: [],\n            page: 1,\n            sad: true\n        }\n    },\n    components: {\n        DetailProductCard,\n        SimiliarProducts\n    },\n    methods: {\n        async setProduct() {\n            this.product = await ProductService.getProduct(this.$route.params.pk)\n        },\n        async pushShops() {\n            const response = await ProductService.getProductShops(\n                this.$route.params.pk,\n                {per_page: 5, page: this.page, city: this.currentCity}\n            )\n            if (!response.next) {\n                this.isLastPage = true\n            }\n            this.shops.push(...response.results)\n            this.page++\n        }\n    },\n    async created() {\n        await this.setProduct()\n        await this.pushShops()\n    },\n    computed: {\n        currentCity() {\n            return this.$store.state.currentCity?.id\n        }\n    },\n    watch: {\n        currentCity(oldValue, newValue) {\n            this.shops = []\n            this.page = 1\n            this.isLastPage = false\n            this.pushShops()\n        },\n        $route() {\n            this.product = null\n            this.setProduct()\n            this.pushShops()\n        }\n    },\n    async beforeRouteUpdate() {\n\n    }\n}\n</script>\n","<template>\n    <div class=\"detail-product\">\n        <div class=\"detail-product__section\">\n            <ProductImage :src=\"product.poster\" :procentDiscount=\"procentDiscount\" class=\"detail-product__poster\" />\n        </div>\n        <div class=\"detail-product__section\">\n            <h1 class=\"detail-product__title\">{{ product.title }}</h1>\n            <div class=\"detail-product__info-section\">\n                <div class=\"detail-product__price\">\n                    <p class=\"detail-product__normal-price\">{{ product.price }}р.</p>\n                    <p class=\"detail-product__promo-price\">\n                        <span class=\"primary-color\">{{ product.promo_price }}</span>р.\n                    </p>\n                </div>\n                <LikeIcon :product=\"product\" class=\"detail-product__like__image\" />\n            </div>\n            <ul class=\"detail-product__info__attrs\">\n                <li>\n                    <span class=\"detail-product__info__attrs__key\">Ссылка на оригинальную страницу: </span>\n                    <span class=\"primary-color\"><a :href=\"product.url\" class=\"primary-color\"\n                            style=\"text-decoration: none;\">{{ product.url }}</a></span>\n                </li>\n                <li>\n                    <span class=\"detail-product__info__attrs__key\">Магазин: </span>\n                    <span class=\"primary-color\">{{ product.donor.name }}</span>\n                </li>\n                <li>\n                    <span class=\"detail-product__info__attrs__key\">Тип акции: </span>\n                    <span class=\"primary-color\">{{ product.promo.type.name }}</span>\n                </li>\n                <li>\n                    <span class=\"detail-product__info__attrs__key\">Дата начала акции: </span>\n                    <span class=\"primary-color\">{{ product.promo.date_begin }}</span>\n                </li>\n                <li>\n                    <span class=\"detail-product__info__attrs__key\">Дата конца акции: </span>\n                    <span class=\"primary-color\">{{ product.promo.date_end }}</span>\n                </li>\n                <li>\n                    <span class=\"detail-product__info__attrs__key\">Магазины в вашем городе: </span>\n                </li>\n            </ul>\n            <ul class=\"detail-product__info__attrs nested\" v-if=\"shops.length\">\n                <li v-for=\"shop in shops\">\n                    <span class=\"detail-product__info__attrs__key\">{{ shop.address }}</span>\n                </li>\n                <li class=\"detail-product__see-more\" v-if=\"!isLastPage\" @click=\"$emit('seeMore')\">\n                    <span class=\"detail-product__info__attrs__key primary-color\">Найти ещё</span>\n                </li>\n            </ul>\n            <ul class=\"detail-product__info__attrs nested\" v-else>\n                <li>\n                    <span class=\"detail-product__info__attrs__key\">Магазинов не найдено</span>\n                </li>\n            </ul>\n        </div>\n    </div>\n</template>\n\n<style>\n.detail-product {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 40px\n}\n\n.detail-product__section {\n    max-width: 700px;\n}\n\n.detail-product__poster {\n    width: 470px;\n    height: 670px;\n    border-radius: 15px;\n    border: 1px solid var(--primary-color);\n    overflow: hidden;\n}\n\n.detail-product__title {\n    font-style: normal;\n    font-weight: 600;\n    font-size: 30px;\n    margin-bottom: 20px;\n    width: 100%;\n    display: inline-block;\n}\n\n.detail-product__info-section {\n    display: flex;\n    align-items: center;\n    margin-bottom: 20px;\n    gap: 30px;\n}\n\n.detail-product__price {\n    padding: 5px;\n    border: 1px solid var(--primary-color);\n    border-radius: 5px;\n}\n\n.detail-product__normal-price {\n    font-weight: 700;\n    font-size: 16px;\n    line-height: 16px;\n    letter-spacing: 1.1px;\n    text-decoration-line: line-through;\n    color: var(--additional-text);\n    text-align: right;\n}\n\n.detail-product__promo-price {\n    font-weight: 700;\n    font-size: 20px;\n    line-height: 22px;\n    letter-spacing: 1.1px;\n    text-align: right;\n    margin-left: 10px;\n}\n\n.detail-product__like__image {\n    width: 40px;\n    height: 40px;\n    cursor: pointer;\n}\n\n.detail-product__info__attrs {\n    list-style: none;\n}\n\n.detail-product__info__attrs.nested {\n    padding: 25px;\n    border-radius: 15px;\n    margin-top: 20px;\n    max-height: 260px;\n    overflow-y: scroll;\n    background-color: var(--window-background);\n    ;\n}\n\n.detail-product__info__attrs.nested::-webkit-scrollbar {\n    width: 10px;\n}\n\n.detail-product__info__attrs.nested::-webkit-scrollbar-track {\n    background-color: var(--window-background);\n}\n\n.detail-product__info__attrs.nested::-webkit-scrollbar-thumb {\n    background-color: var(--primary-color);\n    border-radius: 5px;\n}\n\n.detail-product__info__attrs>li {\n    font-weight: 600;\n    font-size: 16px;\n    position: relative;\n    padding-left: 14px;\n}\n\n.detail-product__info__attrs>li:not(:first-child) {\n    margin-top: 20px;\n}\n\n.detail-product__info__attrs>li:before {\n    content: \"\";\n    width: 7px;\n    height: 7px;\n    background: var(--primary-color);\n    border-radius: 100%;\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    margin-top: 6px;\n}\n\n.detail-product__see-more {\n    cursor: pointer;\n}\n\n@media (max-width: 800px) {\n    .detail-product__poster {\n        width: 300px;\n        height: 480px;\n    }\n\n    .detail-product__like__image {\n        width: 30px;\n        height: 30px;\n    }\n\n    .detail-product__title {\n        font-size: 20px;\n    }\n\n    .detail-product__info__attrs>li {\n        font-size: 10px;\n    }\n}\n</style>\n\n<script>\nimport ProductImage from '../UI/ProductImage.vue'\nimport LikeIcon from '@/components/UI/LikeIcon.vue'\n\n\nexport default {\n    components: {\n        ProductImage,\n        LikeIcon\n    },\n    emits: [\"seeMore\"],\n    props: {\n        product: {\n            type: Object,\n            required: true\n        },\n        shops: {\n            type: Array,\n            required: true\n        },\n        isLastPage: {\n            type: Boolean,\n            required: true\n        }\n    },\n    computed: {\n        procentDiscount() {\n            return 100 - Math.round(this.product.promo_price * 100 / this.product.price)\n        }\n    },\n}\n</script>","import { render } from \"./DetailProductCard.vue?vue&type=template&id=48d091d0\"\nimport script from \"./DetailProductCard.vue?vue&type=script&lang=js\"\nexport * from \"./DetailProductCard.vue?vue&type=script&lang=js\"\n\nimport \"./DetailProductCard.vue?vue&type=style&index=0&id=48d091d0&lang=css\"\n\nimport exportComponent from \"/home/trogdor/projects/frontend/sales/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div>\n        <Title title=\"Похожие товары\"></Title>\n        <ProductCardSet class=\"similiar-products__set\" :products=\"products\" />\n        <Loader v-show=\"isShowLoader\" ref=\"loader\" class=\"loader\" />\n        <p v-if=\"isLastPage\" class=\"last-page-info error-message\">\n            Больше акций не найдено\n        </p>\n        <p v-if=\"!isHasNetwork\" class=\"network-error error-message\">\n            Не удалось загрузить посты\n            <span @click=\"getPosts | (isShowLoader = true) | (isHasNetwork = true)\" class=\"network-error__button\">\n                Попробовать снова?\n            </span>\n        </p>\n    </div>\n</template>\n\n<style>\n.similiar-products__set {\n    margin-top: 45px;\n}\n\n.loader {\n    display: block;\n    margin: auto;\n}\n</style>\n  \n<script>\nimport ProductCardSet from '@/components/cardSets/ProductCardSet.vue'\nimport ProductService from '@/services/ProductService'\nimport Loader from \"@/components/UI/Loader.vue\"\nimport Title from '@/components/UI/Title.vue'\n\nexport default {\n    components: {\n        ProductCardSet,\n        Loader,\n        Title,\n    },\n    data() {\n        return {\n            products: [],\n            isShowLoader: true,\n            isLastPage: false,\n            isHasNetwork: true,\n            page: 1\n        }\n    },\n    props: {\n        product_id: {\n            type: Number,\n            required: true\n        }\n    },\n    methods: {\n        async onLoaderInScreen(event) {\n            if (event[0].isIntersecting) {\n                await this.pushProducts()\n            }\n        },\n        async pushProducts() {\n            const products = await this.getProducts()\n            if (products) {\n                this.products.push(...products)\n                this.page += 1\n            }\n        },\n        async getProducts() {\n            try {\n                const response = await ProductService.getSimiliar(this.product_id, {city: this.currentCity, page: this.page, is_expired: false })\n                if (!response.next | !response.results.length) {\n                    this.isLastPage = true\n                    this.isShowLoader = false\n                }\n                return response.results\n            }\n            catch (e) {\n                if (e.code == \"ERR_NETWORK\") {\n                    this.isHasNetwork = false\n                    this.isShowLoader = false\n                }\n                else if (e.response.status === 404) {\n                    this.isLastPage = true\n                    this.isShowLoader = false\n                }\n            }\n        },\n        reloadProducts() {\n            this.products = []\n            this.page = 1\n            this.isLastPage = false\n            this.isShowLoader = true\n        }\n    },\n    mounted() {\n        const loadingObserver = new IntersectionObserver(this.onLoaderInScreen)\n        loadingObserver.observe(this.$refs.loader.$el)\n    },\n    computed: {\n        currentCity() {\n            return this.$store.state.currentCity?.id\n        }\n    },\n    watch: {\n        currentCity(oldValue, newValue) {\n            this.reloadProducts()\n        }\n    }\n}\n</script>\n","import { render } from \"./SimiliarProducts.vue?vue&type=template&id=855386ae\"\nimport script from \"./SimiliarProducts.vue?vue&type=script&lang=js\"\nexport * from \"./SimiliarProducts.vue?vue&type=script&lang=js\"\n\nimport \"./SimiliarProducts.vue?vue&type=style&index=0&id=855386ae&lang=css\"\n\nimport exportComponent from \"/home/trogdor/projects/frontend/sales/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductView.vue?vue&type=template&id=ebf59036\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductView.vue?vue&type=style&index=0&id=ebf59036&lang=css\"\n\nimport exportComponent from \"/home/trogdor/projects/frontend/sales/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createElementBlock","_hoisted_1","_hoisted_6","script","__exports__","render","$data","product","_createBlock","_component_DetailProductCard","shops","isLastPage","onSeeMore","$options","pushShops","_component_SimiliarProducts","product_id","id","_hoisted_25","_hoisted_28","_createVNode","_component_ProductImage","src","$props","poster","procentDiscount","_toDisplayString","title","_hoisted_7","price","_hoisted_8","_hoisted_9","promo_price","_component_LikeIcon","_hoisted_10","_hoisted_11","_hoisted_12","href","url","style","_hoisted_13","_hoisted_14","_hoisted_15","donor","name","_hoisted_16","_hoisted_17","promo","type","_hoisted_18","_hoisted_19","date_begin","_hoisted_20","_hoisted_21","date_end","_hoisted_22","length","_hoisted_23","_Fragment","_renderList","shop","_hoisted_24","address","onClick","_cache","$event","_ctx","$emit","_hoisted_27","_hoisted_29","components","ProductImage","LikeIcon","emits","props","Object","required","Array","Boolean","computed","Math","round","this","_component_Title","_component_ProductCardSet","products","_component_Loader","ref","isShowLoader","isHasNetwork","getPosts","ProductCardSet","Loader","Title","data","page","Number","methods","async","event","isIntersecting","pushProducts","getProducts","push","response","ProductService","city","currentCity","is_expired","next","results","e","code","status","reloadProducts","mounted","loadingObserver","IntersectionObserver","onLoaderInScreen","observe","$refs","loader","$el","$store","state","watch","oldValue","newValue","undefined","sad","DetailProductCard","SimiliarProducts","$route","params","pk","per_page","setProduct"],"sourceRoot":""}