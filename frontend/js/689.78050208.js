"use strict";(self["webpackChunksales"]=self["webpackChunksales"]||[]).push([[689],{689:function(s,r,o){o.r(r),o.d(r,{default:function(){return U}});var e=o(3396);const a={key:0,class:"password-reset-success container"},t={key:1,class:"password-reset container"};function n(s,r,o,n,d,i){const p=(0,e.up)("Title"),u=(0,e.up)("PasswordResetForm");return d.isSuccess?((0,e.wg)(),(0,e.iD)("p",a,[(0,e.Uk)(" Пароль успешно изменён, вы можете войти в аккаунт на "),(0,e._)("span",{onClick:r[0]||(r[0]=r=>s.$emit("showAuthWindow")),class:"primary-color password-reset-success__auth-link"},"странице входа")])):((0,e.wg)(),(0,e.iD)("div",t,[(0,e.Wm)(p,{title:"Восстановление пароля",description:"Введите новый пароль"}),(0,e.Wm)(u,{password:d.password,"onUpdate:password":r[1]||(r[1]=s=>d.password=s),confirmPassword:d.confirmPassword,"onUpdate:confirmPassword":r[2]||(r[2]=s=>d.confirmPassword=s),class:"password-reset__form",onSubmit:i.changePassword,errors:d.errors},null,8,["password","confirmPassword","onSubmit","errors"])]))}var d=o(8448),i=o(7139);const p={class:"password-reset-form"},u={key:0,class:"password-reset-form__error-message"},w={key:1,class:"password-reset-form__error-message"},c={key:2,class:"password-reset-form__error-message"};function m(s,r,o,a,t,n){const d=(0,e.up)("AuthInput"),m=(0,e.up)("AuthButton");return(0,e.wg)(),(0,e.iD)("form",p,[o.errors.uuid?((0,e.wg)(),(0,e.iD)("p",u,(0,i.zw)(o.errors.uuid.join("\n")),1)):(0,e.kq)("",!0),o.errors.password?((0,e.wg)(),(0,e.iD)("p",w,(0,i.zw)(o.errors.password.join("\n")),1)):(0,e.kq)("",!0),(0,e.Wm)(d,{value:t.password,onInput:n.onUpdatePassword,placeholder:"Новый пароль",type:"password"},null,8,["value","onInput"]),o.errors.confirmPassword?((0,e.wg)(),(0,e.iD)("p",c,(0,i.zw)(o.errors.confirmPassword),1)):(0,e.kq)("",!0),(0,e.Wm)(d,{value:t.confirmPassword,onInput:n.onUpdateConfirmPassword,placeholder:"Повторите пароль",type:"password"},null,8,["value","onInput"]),(0,e.Wm)(m,{type:"sumbit",class:"password-reset-form__button"},{default:(0,e.w5)((()=>[(0,e.Uk)("Продолжить")])),_:1})])}var l=o(839),f=o(3095),h={data(){return{password:"",confirmPassword:""}},props:{errors:{type:Object,required:!0}},components:{AuthInput:l.Z,AuthButton:f.Z},methods:{onUpdatePassword(s){this.password=s.target.value,this.$emit("update:password",s.target.value)},onUpdateConfirmPassword(s){this.confirmPassword=s.target.value,this.$emit("update:confirmPassword",s.target.value)}}},P=o(89);const g=(0,P.Z)(h,[["render",m]]);var k=g,v=o(4441),_={components:{Title:d.Z,PasswordResetForm:k},props:["showAuthWindow"],data(){return{password:"",confirmPassword:"",errors:{},isSuccess:!1}},methods:{async changePassword(s){if(s.preventDefault(),this.password==this.confirmPassword)try{await v.Z.changePassword(this.$route.query.uuid,this.password),this.isSuccess=!0}catch(r){"4"===String(r.response.status)[0]&&(this.errors=r.response.data)}else this.errors={confirmPassword:"Пароли не совпадают"}}}};const y=(0,P.Z)(_,[["render",n]]);var U=y}}]);
//# sourceMappingURL=689.78050208.js.map